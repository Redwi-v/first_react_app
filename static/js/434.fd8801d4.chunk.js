"use strict";(self.webpackChunkmy_app=self.webpackChunkmy_app||[]).push([[434],{6434:function(e,t,r){r.r(t),r.d(t,{default:function(){return B}});var n=r(5671),s=r(3144);function o(e,t){return o=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},o(e,t)}function i(e){return i=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},i(e)}function u(e){return u="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},u(e)}function a(e,t){if(t&&("object"===u(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function c(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=i(e);if(t){var s=i(this).constructor;r=Reflect.construct(n,arguments,s)}else r=n.apply(this,arguments);return a(this,r)}}var l=r(7581),d={users:"users_users__yNYM0",users_list:"users_users_list__4nnSp",showMoreBtn:"users_showMoreBtn__6uoL7"},f={userAvatar:"user_userAvatar__AFGm+",leftSide:"user_leftSide__0b+fZ",user:"user_user__b6xQg",aboutUser:"user_aboutUser__3Rx51",userName:"user_userName__z1pd5",deleteFriend:"user_deleteFriend__qXlmD",addFriend:"user_addFriend__mpyoy",btn:"user_btn__oKRIA"},A=r(3504),p=r(184),g=function(e){var t=e.user,r=e.deleteFriend,n=e.addFriend,s=e.followingProgress,o=t.photos.large||t.photos.small||"https://avatars.mds.yandex.net/i?id=d3a7ed6fd7ff8aaf0c9b95ffb8b89ef0-3654563-images-thumbs&n=13&exp=1";return(0,p.jsxs)("li",{className:f.user,children:[(0,p.jsxs)("div",{className:f.leftSide,children:[(0,p.jsx)(A.rU,{to:"/profile/"+t.id,children:(0,p.jsx)("img",{className:f.userAvatar,src:o,alt:"avatar"})}),t.followed?(0,p.jsx)("button",{className:"".concat(f.deleteFriend," ").concat(f.btn),onClick:function(){r(t.id)},disabled:s.some((function(e){return e===t.id})),children:"Delete friend"}):(0,p.jsx)("button",{className:"".concat(f.btn," ").concat(f.addFriend),onClick:function(){n(t.id)},disabled:s.some((function(e){return e===t.id})),children:"Add friend"})]}),(0,p.jsxs)("div",{className:f.aboutUser,children:[(0,p.jsx)("div",{className:f.userName,children:t.name}),(0,p.jsx)("p",{className:f.userStatus,children:t.status})]})]})},h=r(2690),m=r(885),_=r(2791),b="pagination_pagination_button__Y2pW2",y="pagination_selectedPage__qlIb6",j="pagination_pagination_block__ewHdC",P="pagination_control__yz7oG",x=r(5251),w=function(e){var t=e.clickHandler,r=e.totalItemsCount,n=e.step,s=e.selectedItem,o=Math.ceil(r/n),i=(0,_.useState)(1),u=(0,m.Z)(i,2),a=u[0],c=u[1],l=(a-1)*n+1,d=a*n,f=function(e){c((function(t){return"decrement"===e?t-1:t+1}))},A=function(e){return(0,p.jsx)("li",{children:(0,p.jsx)("button",{className:"".concat(b," ").concat(s===e?y:""," "),onClick:function(){return t(e)},children:e})},e)};return(0,p.jsxs)("div",{className:j,children:[1!==a?(0,p.jsx)("button",{className:P,onClick:function(){return f("decrement")},children:(0,p.jsx)("img",{src:x,alt:"prev"})}):"",(0,p.jsx)("ul",{children:function(){var e=[];console.log(l,d,a,n);for(var t=1;t<o;t++)t>=l&&t<=d&&e.push(A(t));return e}()}),a!==o?(0,p.jsx)("button",{className:P,onClick:function(){return f("increment")},children:(0,p.jsx)("img",{src:x,alt:"next"})}):""]})},C=function(e){var t=e.users,r=e.addFriend,n=e.changeCurrentPage,s=e.totalUsersCount,o=e.pageSize,i=e.selectedPage,u=e.isFeching,a=e.toggleFollowingProgress,c=e.followingProgress;return(0,p.jsxs)("div",{className:d.users,children:[(0,p.jsx)("h1",{className:d.title,children:"Users"}),(0,p.jsx)(w,{clickHandler:n,totalItemsCount:s,step:o,selectedItem:i}),(0,p.jsx)("ul",{className:d.users_list,children:u?(0,p.jsx)(h.Z,{}):t.map((function(t){return(0,p.jsx)(g,{user:t,addFriend:r,deleteFriend:e.deleteFriend,toggleFollowingProgress:a,followingProgress:c},t.id)}))}),(0,p.jsx)("button",{className:d.showMoreBtn,onClick:e.getUsers,children:"Show more"})]})},v=r(7631),F=function(e){return e.usersPage.users},N=function(e){return e.usersPage.pageSize},M=function(e){return e.usersPage.totalUsersCount},S=function(e){return e.usersPage.selectedPage},U=function(e){return e.usersPage.followingProgress},O=function(e){return e.usersPage.isFeching},R=function(e){!function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&o(e,t)}(r,e);var t=c(r);function r(){var e;(0,n.Z)(this,r);for(var s=arguments.length,o=new Array(s),i=0;i<s;i++)o[i]=arguments[i];return(e=t.call.apply(t,[this].concat(o))).sendRequestToUsers=function(t){e.props.getUsersThunkCreator(t,e.props.pageSize)},e.ChageCurrentPageHandler=function(t){e.sendRequestToUsers(t),e.props.chageCurrentPage(t)},e}return(0,s.Z)(r,[{key:"componentDidMount",value:function(){this.sendRequestToUsers(this.props.selectedPage)}},{key:"render",value:function(){return(0,p.jsx)(C,{users:this.props.users,addFriend:this.props.addFriend,deleteFriend:this.props.deleteFriend,totalUsersCount:this.props.totalUsersCount,pageSize:this.props.pageSize,changeCurrentPage:this.ChageCurrentPageHandler,selectedPage:this.props.selectedPage,isFeching:this.props.isFeching,followingProgress:this.props.followingProgress})}}]),r}(_.Component),k={addFriend:v.SK,deleteFriend:v.J0,chageCurrentPage:v.rj,toggleFollowingProgress:v.ZH,getUsersThunkCreator:v.Uk},B=(0,l.$j)((function(e){return{users:F(e),pageSize:N(e),totalUsersCount:M(e),selectedPage:S(e),followingProgress:U(e),isFeching:O(e)}}),k)(R)},5251:function(e){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgEAQAAACJ4248AAAABGdBTUEAALGPC/xhBQAAACBjSFJNAAB6JgAAgIQAAPoAAACA6AAAdTAAAOpgAAA6mAAAF3CculE8AAAAAmJLR0QAAKqNIzIAAAAJcEhZcwAAAGAAAABgAPBrQs8AAAAHdElNRQfmChsQHAus4r2lAAAAx0lEQVRYw+2VPQqDQBgF/cNOzyLkEPbiFaIgehXxAoqdrZ4h5EJa+00KixCIpsm6hfv6ZebtwlvLOggSBDCOsCzQNOA41llBfB8eDz7S96dJQJLwNSdJQBTBumqWKAoQ0Ssh9/v+TQwDuK6RgGFAPM9IGAkjoU/i52Latl4JieO9c3/c8qM1BMXtq2q/fduqhUue779/1yn9MS8MJ8sM3MAvApeyPFo4xc1vN23wrX2aaoNvAr4Pz6cW+FsiDGGaYJ6RulYBfwFIDZ2C7VqV2QAAACV0RVh0ZGF0ZTpjcmVhdGUAMjAyMi0xMC0yN1QxNjoyODoxMSswMDowMHLiMDIAAAAldEVYdGRhdGU6bW9kaWZ5ADIwMjItMTAtMjdUMTY6Mjg6MTErMDA6MDADv4iOAAAAKHRFWHRkYXRlOnRpbWVzdGFtcAAyMDIyLTEwLTI3VDE2OjI4OjExKzAwOjAwVKqpUQAAAABJRU5ErkJggg=="}}]);
//# sourceMappingURL=434.fd8801d4.chunk.js.map